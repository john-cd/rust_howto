# Command-line argument parsing

{{#include arguments.incl.md}}

## Using `clap`'s builder API

[![clap][clap-badge]][clap]  [(examples)]( https://github.com/clap-rs/clap/tree/master/examples )  [![clap-github][clap-github-badge]][clap-github]  [![cat-command-line-interface][cat-command-line-interface-badge]][cat-command-line-interface]

This application describes the structure of its command-line interface using
`clap`'s builder style. The [documentation][clap] gives two other possible ways to instantiate an application.

In the builder style, `with_name` is the unique identifier that `value_of` will use to retrieve the value passed. The `short` and `long` options control the {{i:flag}} the user will be expected to type; short flags look like `-f` and long flags look like `--file`.

```rust,editable
{{#include ../../../deps/tests/clap-basic.rs}}
```

Usage information is generated by {{i:`clap`}}. The usage for the example application looks like this.

```bash
My Test Program 0.1.0
Hackerman Jones <hckrmnjones@hack.gov>
Teaches argument parsing

USAGE:
    testing [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --file <file>     A cool file
    -n, --number <num>    Five less than your favorite number
```

We can test the application by running a command like the following.

```bash
cargo run -- -f myfile.txt -n 251
```

The output is:

```bash
The file passed is: myfile.txt
Your favorite number must be 256.
```

## Using `clap`'s {{i:derive}} API

[![clap][clap-badge]][clap]  [(tutorial)]( https://docs.rs/clap/latest/clap/_derive/_tutorial/index.html )  [(cookbook)]( https://docs.rs/clap/latest/clap/_derive/_cookbook/index.html )  [(examples)]( https://github.com/clap-rs/clap/tree/master/examples )  [![cat-command-line-interface][cat-command-line-interface-badge]][cat-command-line-interface]

```rust,editable,no_run
{{#include ../../../deps/tests/clap.rs}}
```

{{#include refs.incl.md}}
{{#include ../../refs/link-refs.md}}
