# Command-line argument parsing

{{#include arguments.incl.md}}

## Using clap's builder API

[![clap][c-clap-badge]][c-clap]  [![clap-examples][c-clap-examples-badge]][c-clap-examples]  [![clap-github][c-clap-github-badge]][c-clap-github]  [![cat-command-line-interface][cat-command-line-interface-badge]][cat-command-line-interface]

This application describes the structure of its command-line interface using [`clap`][c-clap]{{hi:clap}}⮳'s builder style. The [documentation][c-clap]⮳ gives two other possible ways to instantiate an application.

In the builder style, `with_name` is the unique identifier that `value_of` will use to retrieve the value passed. The [`clap::Arg::short`][c-clap::Arg::short]{{hi:clap::Arg::short}}⮳ and [`clap::Arg::long`][c-clap::Arg::long]{{hi:clap::Arg::long}}⮳ options control the flag{{hi:Flag}} the user will be expected to type; short flags look like `-f` and long flags look like `--file`.

```rust,editable
{{#include ../../../deps/tests/clap-basic.rs}}
```

Usage information is generated by [`clap`][c-clap]{{hi:clap}}⮳. The usage for the example application looks like this.

```bash
My Test Program 0.1.0
Hackerman Jones <hckrmnjones@hack.gov>
Teaches argument parsing

USAGE:
    testing [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --file <file>     A cool file
    -n, --number <num>    Five less than your favorite number
```

We can test the application by running a command like the following.

```bash
cargo run -- -f myfile.txt -n 251
```

The output is:

```bash
The file passed is: myfile.txt
Your favorite number must be 256.
```

## Using `clap`'s derive API

[![clap][c-clap-badge]][c-clap]  [(tutorial)][c-clap-tutorial]  [(cookbook)][c-clap-cookbook]  [![clap examples][c-clap-examples-badge]][c-clap-examples]  [![cat-command-line-interface][cat-command-line-interface-badge]][cat-command-line-interface]

```rust,editable,no_run
{{#include ../../../deps/tests/clap.rs}}
```

{{#include refs.incl.md}}
{{#include ../../refs/link-refs.md}}

<div class="hidden">
</div>
